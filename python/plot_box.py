#!/usr/bin/env python3


import matplotlib.pyplot as plt
import matplotlib
import numpy as np


def plot_box(row):
    title = '_'.join(row[:4])
    for x in row[4:48+4]:
        try:
            float(x)
        except:
            print(x)


    row = [float(x) for x in row[4:48+4]]

    fig = plt.figure(figsize=(6, 12))
    plt.ion()
    plt.show()
    x= list(range(8))
    my_xticks = ['Centrallized, Average','Centrallized, average_without_high_low','Centrallized, No_filter','Centrallized, Kalman_Filter','Decentrallized, Average','Decentrallized, average_without_high_low','Decentrallized, No_filter','Decentrallized, Kalman_Filter']

    plt.subplot(211)
    plt.errorbar(x, [row[mean] for mean in [0,6,12,18,24,30,36,42]],[row[ci] for ci in [2,8,14,20,26,32,38,44]],linewidth=1, capsize=2)
    plt.ylabel("Fuel Consumption (MPG)")
    plt.xticks(x, my_xticks, rotation='vertical')

    plt.subplot(212)
    plt.errorbar(x, [row[mean] for mean in [3,9,15,21,27,33,39,45]],[row[ci] for ci in [5,11,17,23,29,35,41,47]],linewidth=1, capsize=2)
    plt.ylabel("Crashes")
    plt.xticks(x, my_xticks, rotation='vertical')


    #fig.set_title(title)
    plt.tight_layout()

    fig.savefig(title+'.pdf')
    plt.close()
    #plt.savefig(sys.argv[2],bbox_inches='tight', dpi=600)

    # basic plot
    #plt.boxplot(data)


    #axes_i = 0

def main():

    row=['v1_lie_to_v2','mean','announced_acceleration_at_t_-1','1','38.40095986','8.88E-04','0.008552538','0','0','0','38.19858274','9.24E-04','0.008727099','0','0','0','37.12597892','0.001497184','0.011108202','0','0','0','36.55924614','3.54E-03','0.017088296','573.98','78.7396','2.547433361','36.50803607','0.040324185','0.057648635','181.48','111.1296','3.026363605','28.68735587','0.136128977','0.105920865','61.82','72.4676','2.443870388','34.93974103','1.33E-02','0.033071879','0.74','1.6724','0.371258418','25.12575463','0.101495916','0.091459856','1378.02','1872.8596','12.42392556','34.44320691','25.12575463','38.40095986','20.73704343','274.505','0','1378.02','207790.6814','This','malicious','behaviour','is','most','efficitive','againest','centrallized','kalman','filter,','but','not','so','efficitive','to','any','other','centrallized','control','strategies']
    plot_box(row)
    row=['v1_lie_to_v2','mean','announced_velocity_at_t_-1','1','38.17452298','9.61E-04','0.00890028','0','0','0','38.17551434','8.89E-04','0.008560509','0','0','0','37.12493793','1.51E-03','0.011142565','0','0','0','38.43710549','6.01E-04','0.007038181','243.9','5.25','0.657787902','33.56702265','0.252122767','0.144149209','1.6','3.84','0.562563877','34.55987303','0.172887246','0.119367942','0.98','1.6196','0.365350843','34.94224182','0.018987444','0.039558469','0.48','0.6896','0.238399234','38.24511561','0.002361243','0.013950075','249.38','10.3956','0.925616335','36.65329173','33.56702265','38.43710549','3.425600209','62.0425','0','249.38','11360.89634','Similar','to','case','81']
    plot_box(row)
    row=['v1_lie_to_v2','mean','measured_velocity_difference_at_t_0','-1','37.35058862','3.95E-04','0.005708734','0','0','0','37.34491659','3.82E-04','0.005609643','0','0','0','37.12746013','2.10E-03','0.013165174','0','0','0','37.64609095','3.21E-04','0.005142622','234.34','4.7444','0.625312166','34.14392787','0.055054092','0.067359838','0.02','0.0196','0.040191505','34.67763082','0.048201396','0.063028364','0','0','0','34.94353037','0.012014892','0.031467784','0.32','0.6976','0.239778073','37.39805374','0.001790246','0.01214682','236.28','6.9216','0.755282599','36.32902489','34.14392787','37.64609095','1.876494919','58.87','0','236.28','10377.2702','Caused','uniformly','low','MPG,','also','similar','to','case','101']
    plot_box(row)
    row=['v1_lie_to_v2','mean','measured_velocity_difference_at_t_0','1','31.63625283','0.005286966','0.020874183','653.96','21.1984','1.321775724','32.30819872','0.002934597','0.015551794','631.26','27.6324','1.509091363','37.12659605','2.98E-03','0.015668235','0','0','0','37.58194861','0.003925','0.017985646','340.84','13.0544','1.037252972','20.12124286','0.005736992','0.021744445','1427.44','249.6064','4.535593124','20.33411201','0.012093566','0.031570642','1507.66','195.1444','4.010368463','34.9200179','0.019372829','0.039957909','0.6','1','0.287082176','36.05753228','0.028670035','0.048609409','453.82','151.8676','3.537844944','31.26073766','20.12124286','37.58194861','44.43540649','626.9475','0','1507.66','289299.5018','Similar','to','case','98']
    plot_box(row)
    row=['v3_lie_to_v2','mean','announced_velocity_at_t_-1','1','38.17016988','7.21E-04','0.007706354','0','0','0','38.17419309','7.71E-04','0.00796987','0','0','0','37.13995525','2.58E-03','0.014588538','0','0','0','38.43522917','4.61E-04','0.00616673','244.54','4.4084','0.602763196','33.76498054','0.162452449','0.115709592','0.92','1.9536','0.401258323','34.60593123','0.172007161','0.119063733','0.92','1.4336','0.343732207','34.95175134','0.012332233','0.031880645','0.32','0.3376','0.166804379','38.23195757','0.001614454','0.011535039','249.74','7.2324','0.772053593','36.68427101','33.76498054','38.43522917','3.242497127','62.055','0','249.74','11420.63628','Similar','to','case','33']
    plot_box(row)
    row=['v3_lie_to_v2','mean','measured_velocity_difference_at_t_0','-1','31.62236655','4.77E-03','0.019828143','653.1','26.49','1.477567089','32.28708721','4.41E-03','0.019058425','634.2','22.2','1.352641529','37.14550974','2.16E-03','0.013347892','0','0','0','37.5935865','2.36E-03','0.013939442','340.56','10.6864','0.938473347','20.10266256','0.008465312','0.026413607','1422.66','216.8244','4.227273105','20.33200979','0.009120061','0.027416064','1507.12','129.0256','3.260950253','34.93223881','0.01300483','0.032738484','0.4','0.68','0.236734027','36.08139254','0.028842925','0.048755755','454.14','125.5604','3.216863072','31.26210671','20.10266256','37.5935865','44.5722547','626.5225','0','1507.12','288262.7861','Similar','to','case','53']
    plot_box(row)
    row=['v3_lie_to_v2','mean','measured_velocity_difference_at_t_0','1','37.3444275','4.10E-04','0.005812441','0','0','0','37.34405561','3.99E-04','0.005737155','0','0','0','37.13464161','1.55E-03','0.011302885','0','0','0','37.6469904','3.64E-04','0.00547822','233.94','5.8964','0.697107409','33.98876384','0.055189819','0.067442819','0.12','0.1456','0.109543577','34.4796436','0.057653373','0.068931637','0.04','0.0384','0.056256388','34.93973166','0.011092354','0.030235565','0.46','0.8884','0.270589229','37.38588096','0.001439958','0.010893843','236.02','4.3396','0.598041167','36.2830169','33.98876384','37.6469904','2.046820086','58.8225','0','236.02','10344.11244','Similar','to','case','50']
    plot_box(row)

if __name__ == '__main__':
    main()
    input('Press any key to exit...')